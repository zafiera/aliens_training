<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        h1 {
            font-size: 80px;
            position: relative;
            left: 40%;

        }

        .modalButton {
            background-color: black;
            border: none;
            color: white;
            padding: 5px 10px;
            font-size: 16px;
            cursor: pointer;
            font-size: 18px;
            position: absolute;
            left: 50%;
        }

        .modalButton:hover {
            background-color: green;
        }

        p {
            height: 40px;
        }

        .answer {
            position: relative;
            border: 0;
            outline: 0;
            background: transparent;
            border-bottom: 1px solid black;
            left: 50%;
            text-align:center;
        }

        .modal {
            display: none;
            position: relative;
            left: 25%;
            width: 50%;
            border: 1px solid black;
            height: 250px;
        }

        h3 {
            position: relative;
            left: 45%;
        }

        .userInput {
            position: relative;
            left: 45%;
        }

        .modalClose {
            background-color: orange;
            border: none;
            color: black;
            padding: 5px 10px;
            font-size: 16px;
            cursor: pointer;
            font-size: 18px;
            position: absolute;
            left: 45%;
        }

        .modalClose:hover {
            background-color: red;
            color: white;
        }

        .answers{
            position: relative;
            background-color: lightgrey;
            height: 200px;
            left: 45%;
            width: 30%;
            display: none;
            text-align: center;
        }
        
    </style>
</head>

<body>

    <h1>Calculator</h1>

    <button class="modalButton" id="open">Show</button>

    <p></p>

    <div class="modal" id="modal">
        <h3>Enter Your Equation</h3>
        <p></p>
        <input type="text" id="userInput" class="userInput">
        <p></p>
        <button class="modalClose" id="close" onclick="closeModal()">close</button>
    </div>

    <p></p>

    <input class="answer" id="sum">

    <p></p>

    <div class="answers" id="answersList"></div>

    <script>
        var modal = document.getElementById("modal");
        var open = document.getElementById("open");
        var close = document.getElementById("close");
        var answers = document.getElementById("answersList");

        open.onclick = function () {
            modal.style.display = 'block';
        }

        function closeModal() {
            modal.style.display = 'none';
        }

        var userInput = document.querySelector('#userInput');

        userInput.addEventListener("keydown", function (e) {
            if (e.keyCode === 13) {  //checks whether the pressed key is "Enter"
                calc(userInput.value);
                closeModal();
                value = document.querySelector('#sum').value ;
                document.getElementById('userInput').value = value;
                answersList.innerHTML +=value + "<br>" ;
                answers.style.display = 'block';
            }

        });

        function calc() {
            var operant = '';
            var operantPosition = -1;
            equation = userInput.value;

            for (i = 0; i < equation.length; i++) {
                var char = equation.charAt(i);
                switch (char) {
                    case '+':
                    case '-':
                    case '*':
                    case '/':
                        // got the value
                        operant = char;
                        operantPosition = i;
                        break;
                    default:
                }
                if (operant !== '') {
                    break;
                }
            }
            if (operant == '') {
                console.error('No operant');
                return;
            }

            var num1 = parseInt(equation.substring(0, operantPosition));
            var num2 = parseInt(equation.substring(operantPosition + 1, equation.length));

            if (isNaN(num1) || isNaN(num2)) {
                console.error('Not enough numbers');
                return;
            }

            console.log('operant', operant, '\nnum1', num1, '\nnum2', num2);
            var total = 0;
            switch (operant) {
                case '+':
                    total = num1 + num2;
                    break;
                case '-':
                    total = num1 - num2;
                    break;
                case '*':
                    total = num1 * num2;
                    break;
                case '/':
                    total = num1 / num2;
                    break;
            }

            document.getElementById('sum').value = total;

        }
    </script>
</body>

</html>